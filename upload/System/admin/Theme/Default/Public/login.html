<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if IE 6]>
<html id="ie6" xmlns="http://www.w3.org/1999/xhtml">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" xmlns="http://www.w3.org/1999/xhtml">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" xmlns="http://www.w3.org/1999/xhtml">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html xmlns="http://www.w3.org/1999/xhtml">
<!--<![endif]-->
<head>
	<title>$<!--{$GLOBALS['_option_']['windsforce_program_name']}--> | <!--<lang package='Template'>-->登录<!--</lang>--></title>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="<!--{:Q::U('misc/index?type=css&file=style',array('rand'=>C::randString(4)),true)}-->"/>
	<link rel="stylesheet" type="text/css" href="<!--{:Q::U('misc/index?type=css&file=login',array('rand'=>C::randString(4)),true)}-->"/>
	<!--{script}-->
	var __QEEPHP_JS_ENTER__='<!--{:__APP__}-->';
	<!--{/script}-->
	<script src="<!--{:__PUBLIC__}-->/js/common/global.js" type="text/javascript"></script>
	<script src="<!--{:__PUBLIC__}-->/js/jquery/jquery.js" type="text/javascript"></script>
	<script src="<!--{:__PUBLIC__}-->/js/common/Q.js" type="text/javascript"></script>
	<!--{:Core_Extend::validate()}-->
	<!--{style}-->
	.input_errortips label.error{background-position:0px 5px;}
	<!--{/style}-->
	<link rel="shortcut icon" href="<!--{:At::path('favicon.png')}-->">
</head>
<body onLoad="document.login.user_name.focus()" class="login-body">

<!--{script}-->
Q.Ajax.Q.UpdateTips='login...';
Q.Ajax.Q.Image=['<!--{:__PUBLIC__}-->/images/common/ajax/loading.gif', '<!--{:__PUBLIC__}-->/images/common/ajax/ok.gif','<!--{:__PUBLIC__}-->/images/common/ajax/update.gif'];
var PUBLIC='<!--{:__PUBLIC__}-->';
var URL='<!--{:__URL__}-->';

<!--{:App::U()}-->

function login_handle(data,status){
	if(status==1){
		setTimeout(function(){window.location='<!--{:__APP__}-->';},1000);
	}
}

function ajaxLogin(){
	Q.AjaxSubmit('login-form','<!--{:Q::U('public/check_login')}-->','result',login_handle);
}

checkForm(ajaxLogin);
<!--{/script}-->

	<div id="login">
		<section id="main" class="column">
			<article class="module width_full">
				<form method='post' name="login" id="login-form" class="validate">
					<header><h3 style=""><!--<lang package='Template'>-->用户登录<!--</lang>--></h3></header>
					<div class="module_content">
						<span><img src="<!--{:At::path('logo.gif')}-->"/></span>
						<span><div id="result" class="none"></div></span>
						<!--{if $sReferer && $nRbac==1}-->
						<fieldset class="fieldset_bordernone" style="margin:10px 0px 0px -5px;">
							<div class="red" style="padding:0 5px;"><!--<lang package='Template'>-->你没有权限访问!<!--</lang>-->&nbsp;<a href="<!--{$sReferer}-->"><!--<lang package='Template'>-->重试<!--</lang>--></a></div>
						</fieldset>
						<!--{/if}-->
						<fieldset class="fieldset_bordernone" style="margin-top:2px;">
							<label><!--<lang package='Template'>-->用户名/E-mail<!--</lang>--></label>
							<input type="text" name="user_name" id="user_name" size="40" class="{required:true}" style="width:325px;"/>
							<p class="input_errortips"></p>
						</fieldset>
						<fieldset class="fieldset_bordernone">
							<label><!--<lang package='Template'>-->密码<!--</lang>--></label>
							<input type="password" name="user_password" id="user_password" size="40" class="{required:true,minlength:6}" style="width:325px;"/>
							<p class="input_errortips"></p>
						</fieldset>
						<fieldset class="fieldset_bordernone">
							<label><!--<lang package='Template'>-->验证码<!--</lang>--></label>
							<input type="text" name="seccode" size="10" id="seccode" onkeypress="submitKeycode(event,ajaxLogin);" class="{required:true,remote:Q.U('public/validate_seccode'),messages:{remote:'<!--<lang package='Template'>-->验证码错误<!--</lang>-->'}} left"/>&nbsp;
							<span class="validate_seccode"><span class="input_errortips"></span></span>
							<div class="description clear" style="padding-top:8px;margin-left:-5px;">
								<span id="seccodeImage"><img style="cursor:pointer" onclick="updateSeccode()" src="<!--{:Q::U('public/seccode')}-->" /></span>
							</div>
						</fieldset>
					</div>
					<footer>
						<div class="submit_link">
							<input type="hidden" name="ajax" value="1">
							<span class="rigth">
								<input type="button" value="<!--<lang package='Template'>-->返回首页<!--</lang>-->" onClick="location.href='<!--{:__ROOT__}-->/index.php';" />&nbsp;
								<input type="submit" value="<!--<lang package='Template'>-->登录<!--</lang>-->" class="alt_btn"/>
							</span>
						</div>
					</footer>
				</form>
			</article>

			<div class="spacer"></div>
		</section>
	</div>

</body>
</html>